<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Accordion?>
<?import javafx.scene.shape.SVGPath?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TableView?>

<?import javafx.scene.shape.Rectangle?>
<BorderPane
        xmlns="http://javafx.com/javafx"
        xmlns:fx="http://javafx.com/fxml"
        fx:controller="com.cryptoalgo.oursql.controller.Home"
        stylesheets="@../css/home.css"
>
    <top>
        <HBox styleClass="appBar" alignment="CENTER">
            <BorderPane.margin><Insets top="8" left="8" right="8" /></BorderPane.margin>
            <Label text="%app.title" styleClass="h2"/>
            <Pane HBox.hgrow="ALWAYS" />
            <Button minWidth="-Infinity" styleClass="icon, outlined">
                <graphic>
                    <SVGPath
                        styleClass="svgIcon"
                        content="M13.875 22h-3.75q-.375 0-.65-.25t-.325-.625l-.3-2.325q-.325-.125-.612-.3-.288-.175-.563-.375l-2.175.9q-.35.125-.7.025t-.55-.425L2.4
                        15.4q-.2-.325-.125-.7.075-.375.375-.6l1.875-1.425Q4.5 12.5 4.5 12.337v-.675q0-.162.025-.337L2.65
                        9.9q-.3-.225-.375-.6-.075-.375.125-.7l1.85-3.225q.175-.35.537-.438.363-.087.713.038l2.175.9q.275-.2.575-.375.3-.175.6-.3l.3-2.325q.05-.375.325-.625t.65-.25h3.75q.375
                        0 .65.25t.325.625l.3 2.325q.325.125.613.3.287.175.562.375l2.175-.9q.35-.125.7-.025t.55.425L21.6
                        8.6q.2.325.125.7-.075.375-.375.6l-1.875 1.425q.025.175.025.337v.675q0 .163-.05.338l1.875
                        1.425q.3.225.375.6.075.375-.125.7l-1.85 3.2q-.2.325-.562.438-.363.112-.713-.013l-2.125-.9q-.275.2-.575.375-.3.175-.6.3l-.3
                        2.325q-.05.375-.325.625t-.65.25Zm-1.825-6.5q1.45 0 2.475-1.025Q15.55 13.45 15.55 12q0-1.45-1.025-2.475Q13.5
                        8.5 12.05 8.5q-1.475 0-2.488 1.025Q8.55 10.55 8.55 12q0 1.45 1.012 2.475Q10.575 15.5 12.05 15.5Zm0-2q-.625
                        0-1.062-.438-.438-.437-.438-1.062t.438-1.062q.437-.438 1.062-.438t1.063.438q.437.437.437 1.062t-.437
                        1.062q-.438.438-1.063.438ZM12 12Zm-1 8h1.975l.35-2.65q.775-.2 1.438-.588.662-.387 1.212-.937l2.475
                        1.025.975-1.7-2.15-1.625q.125-.35.175-.738.05-.387.05-.787t-.05-.788q-.05-.387-.175-.737l2.15-1.625-.975-1.7-2.475
                        1.05q-.55-.575-1.212-.963-.663-.387-1.438-.587L13 4h-1.975l-.35 2.65q-.775.2-1.437.587-.663.388-1.213.938L5.55
                        7.15l-.975 1.7 2.15 1.6q-.125.375-.175.75-.05.375-.05.8 0 .4.05.775t.175.75l-2.15 1.625.975 1.7
                        2.475-1.05q.55.575 1.213.962.662.388 1.437.588"
                    />
                </graphic>
            </Button>
        </HBox>
    </top>
    <left>
        <VBox prefWidth="300" styleClass="sidebar">
            <BorderPane.margin><Insets topRightBottomLeft="8" /></BorderPane.margin>
            <Label text="%header.clusters" styleClass="accentedHeader" />
            <Separator />
            <!-- DB/cluster list -->
            <ScrollPane maxHeight="Infinity" VBox.vgrow="ALWAYS" fitToWidth="true">
                <Accordion fx:id="categoryList" />
            </ScrollPane>
            <VBox spacing="6" fx:id="addClusterTip">
                <Label text="%tip.addCluster.title" styleClass="h3" wrapText="true" />
                <Label text="%tip.addCluster.body" wrapText="true" />
                <SVGPath styleClass="svgIcon"
                    content="M24 24.25q-.35 0-.675-.15-.325-.15-.575-.4l-9.95-9.95q-.6-.55-.575-1.3.025-.75.575-1.3.55-.55
                    1.275-.55.725 0 1.325.55l8.6 8.7 8.65-8.7q.55-.55 1.3-.525.75.025 1.3.575.55.55.55 1.275 0 .725-.55
                    1.275L25.3 23.7q-.3.25-.625.4-.325.15-.675.15Zm0 14.45q-.35 0-.675-.125-.325-.125-.575-.425L12.8
                    28.2q-.6-.55-.575-1.275.025-.725.575-1.275.55-.55 1.275-.55.725 0 1.325.55L24 34.3l8.65-8.65q.55-.55
                    1.3-.55t1.3.55q.55.55.55 1.275 0 .725-.55 1.275l-9.95 9.95q-.3.3-.625.425T24 38.7Z">
                    <VBox.margin><Insets topRightBottomLeft="8" /></VBox.margin>
                </SVGPath>
            </VBox>
            <Separator/>
            <Button text="%action.addCluster" onAction="#addCluster" styleClass="addClusterAction">
                <VBox.margin><Insets topRightBottomLeft="8" /></VBox.margin>
            </Button>
        </VBox>
    </left>
    <center>
        <VBox spacing="4">
            <BorderPane.margin><Insets top="8" right="8" bottom="8" /></BorderPane.margin>
            <VBox fx:id="mainContentContainer" visible="false" managed="false" VBox.vgrow="ALWAYS" spacing="4">
                <HBox styleClass="queryContainer">
                    <TextField fx:id="queryField" promptText="%prompt.query" HBox.hgrow="ALWAYS" />
                    <Button text="%action.run" />
                </HBox>
                <TableView VBox.vgrow="ALWAYS" styleClass="table" fx:id="dbTable" />
            </VBox>

            <VBox fx:id="tableTipContainer" VBox.vgrow="ALWAYS" spacing="8">
                <padding><Insets topRightBottomLeft="16" /></padding>
                <SVGPath
                    styleClass="svgIcon"
                    content="M39.15 39.15V31.6H8.85v7.55h30.3Zm0-11.2V20H8.85v7.95h30.3Zm0-11.6v-7.5H8.85v7.5h30.3ZM8.85
                    42.8q-1.45 0-2.55-1.1-1.1-1.1-1.1-2.55V8.85q0-1.45 1.1-2.55 1.1-1.1 2.55-1.1h30.3q1.45 0 2.55 1.1
                    1.1 1.1 1.1 2.55v30.3q0 1.45-1.1 2.55-1.1 1.1-2.55 1.1Z" />
                <Label text="No table selected" styleClass="h2" />
                <Label text="Select a table in a cluster from the sidebar or add a cluster!" />
            </VBox>

            <HBox fx:id="statusContainer">
                <Rectangle fx:id="statusBgRect" fill="#0000" />
                <Label fx:id="statusLabel" />
            </HBox>
        </VBox>
    </center>
</BorderPane>
